(()=>{"use strict";var e;var t="undefined"==typeof document?void 0:document,i=!!t&&"content"in t.createElement("template"),n=!!t&&t.createRange&&"createContextualFragment"in t.createRange();function o(o){return o=o.trim(),i?function(e){var i=t.createElement("template");return i.innerHTML=e,i.content.childNodes[0]}(o):n?function(i){return e||(e=t.createRange()).selectNode(t.body),e.createContextualFragment(i).childNodes[0]}(o):function(e){var i=t.createElement("body");return i.innerHTML=e,i.childNodes[0]}(o)}function a(e,t){var i,n,o=e.nodeName,a=t.nodeName;return o===a||(i=o.charCodeAt(0),n=a.charCodeAt(0),i<=90&&n>=97?o===a.toUpperCase():n<=90&&i>=97&&a===o.toUpperCase())}function r(e,t,i){e[i]!==t[i]&&(e[i]=t[i],e[i]?e.setAttribute(i,""):e.removeAttribute(i))}var c={OPTION:function(e,t){var i=e.parentNode;if(i){var n=i.nodeName.toUpperCase();"OPTGROUP"===n&&(n=(i=i.parentNode)&&i.nodeName.toUpperCase()),"SELECT"!==n||i.hasAttribute("multiple")||(e.hasAttribute("selected")&&!t.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),i.selectedIndex=-1)}r(e,t,"selected")},INPUT:function(e,t){r(e,t,"checked"),r(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),t.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var i=t.value;e.value!==i&&(e.value=i);var n=e.firstChild;if(n){var o=n.nodeValue;if(o==i||!i&&o==e.placeholder)return;n.nodeValue=i}},SELECT:function(e,t){if(!t.hasAttribute("multiple")){for(var i,n,o=-1,a=0,r=e.firstChild;r;)if("OPTGROUP"===(n=r.nodeName&&r.nodeName.toUpperCase()))r=(i=r).firstChild;else{if("OPTION"===n){if(r.hasAttribute("selected")){o=a;break}a++}!(r=r.nextSibling)&&i&&(r=i.nextSibling,i=null)}e.selectedIndex=o}}};function l(){}function s(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}var d=function(e){return function(i,n,r){if(r||(r={}),"string"==typeof n)if("#document"===i.nodeName||"HTML"===i.nodeName||"BODY"===i.nodeName){var d=n;(n=t.createElement("html")).innerHTML=d}else n=o(n);var u=r.getNodeKey||s,v=r.onBeforeNodeAdded||l,f=r.onNodeAdded||l,h=r.onBeforeElUpdated||l,p=r.onElUpdated||l,m=r.onBeforeNodeDiscarded||l,y=r.onNodeDiscarded||l,S=r.onBeforeElChildrenUpdated||l,b=!0===r.childrenOnly,w=Object.create(null),A=[];function g(e){A.push(e)}function N(e,t){if(1===e.nodeType)for(var i=e.firstChild;i;){var n=void 0;t&&(n=u(i))?g(n):(y(i),i.firstChild&&N(i,t)),i=i.nextSibling}}function E(e,t,i){!1!==m(e)&&(t&&t.removeChild(e),y(e),N(e,i))}function O(e){f(e);for(var t=e.firstChild;t;){var i=t.nextSibling,n=u(t);if(n){var o=w[n];o&&a(t,o)?(t.parentNode.replaceChild(o,t),C(o,t)):O(t)}else O(t);t=i}}function C(i,n,o){var r=u(n);if(r&&delete w[r],!o){if(!1===h(i,n))return;if(e(i,n),p(i),!1===S(i,n))return}"TEXTAREA"!==i.nodeName?function(e,i){var n,o,r,l,s,d=i.firstChild,f=e.firstChild;e:for(;d;){for(l=d.nextSibling,n=u(d);f;){if(r=f.nextSibling,d.isSameNode&&d.isSameNode(f)){d=l,f=r;continue e}o=u(f);var h=f.nodeType,p=void 0;if(h===d.nodeType&&(1===h?(n?n!==o&&((s=w[n])?r===s?p=!1:(e.insertBefore(s,f),o?g(o):E(f,e,!0),f=s):p=!1):o&&(p=!1),(p=!1!==p&&a(f,d))&&C(f,d)):3!==h&&8!=h||(p=!0,f.nodeValue!==d.nodeValue&&(f.nodeValue=d.nodeValue))),p){d=l,f=r;continue e}o?g(o):E(f,e,!0),f=r}if(n&&(s=w[n])&&a(s,d))e.appendChild(s),C(s,d);else{var m=v(d);!1!==m&&(m&&(d=m),d.actualize&&(d=d.actualize(e.ownerDocument||t)),e.appendChild(d),O(d))}d=l,f=r}!function(e,t,i){for(;t;){var n=t.nextSibling;(i=u(t))?g(i):E(t,e,!0),t=n}}(e,f,o);var y=c[e.nodeName];y&&y(e,i)}(i,n):c.TEXTAREA(i,n)}!function e(t){if(1===t.nodeType||11===t.nodeType)for(var i=t.firstChild;i;){var n=u(i);n&&(w[n]=i),e(i),i=i.nextSibling}}(i);var T,k,I=i,x=I.nodeType,L=n.nodeType;if(!b)if(1===x)1===L?a(i,n)||(y(i),I=function(e,t){for(var i=e.firstChild;i;){var n=i.nextSibling;t.appendChild(i),i=n}return t}(i,(T=n.nodeName,(k=n.namespaceURI)&&"http://www.w3.org/1999/xhtml"!==k?t.createElementNS(k,T):t.createElement(T)))):I=n;else if(3===x||8===x){if(L===x)return I.nodeValue!==n.nodeValue&&(I.nodeValue=n.nodeValue),I;I=n}if(I===n)y(i);else{if(n.isSameNode&&n.isSameNode(I))return;if(C(I,n,b),A)for(var M=0,U=A.length;M<U;M++){var D=w[A[M]];D&&E(D,D.parentNode,!1)}}return!b&&I!==i&&i.parentNode&&(I.actualize&&(I=I.actualize(i.ownerDocument||t)),i.parentNode.replaceChild(I,i)),I}}((function(e,t){var i,n,o,a,r=t.attributes;if(11!==t.nodeType&&11!==e.nodeType){for(var c=r.length-1;c>=0;c--)n=(i=r[c]).name,o=i.namespaceURI,a=i.value,o?(n=i.localName||n,e.getAttributeNS(o,n)!==a&&("xmlns"===i.prefix&&(n=i.name),e.setAttributeNS(o,n,a))):e.getAttribute(n)!==a&&e.setAttribute(n,a);for(var l=e.attributes,s=l.length-1;s>=0;s--)n=(i=l[s]).name,(o=i.namespaceURI)?(n=i.localName||n,t.hasAttributeNS(o,n)||e.removeAttributeNS(o,n)):t.hasAttribute(n)||e.removeAttribute(n)}}));const u=d;function v(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}window.addEventListener("DOMContentLoaded",(function(){var e=new h;e.init(),Object.keys(window.themeData.sections).forEach((function(e){var t=window.themeData.sections[e];Array.isArray(t.blocks)&&(t.blocks={},t.blocks_order=[])})),console.log(window.initialState),e.postMessage("init",{themeData:window.themeData,availableSections:window.availableSections,templates:window.templates,models:window.initialState}),window.addEventListener("message",(function(t){switch(t.data.type){case"activateSection":var i=document.querySelector('[data-section-id="'.concat(t.data.data,'"]'));e.activateSection(i),i.scrollIntoView({behavior:"smooth"});break;case"clearActiveSection":e.clearActiveSection();break;case"refresh":e.refreshPreviewer(t.data.data)}}))}));var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"sectionOverlay",void 0),f(this,"activeSectionId",null)}var t,i,n;return t=e,(i=[{key:"init",value:function(){var e,t,i,n,o,a=this;this.sectionOverlay=document.querySelector("#section-overlay"),document.querySelectorAll(".arcade-section").forEach((function(e){e.addEventListener("mouseover",a.onSectionHover.bind(a,e)),e.addEventListener("mouseleave",a.onSectionBlur.bind(a,e))})),this.sectionOverlay.querySelectorAll(".btn").forEach((function(e){e.addEventListener("mouseenter",(function(){a.sectionOverlay.style.display="block"}))})),null===(e=this.sectionOverlay.querySelector("#move-up"))||void 0===e||e.addEventListener("click",this.onMoveActiveSectionUp.bind(this)),null===(t=this.sectionOverlay.querySelector("#move-down"))||void 0===t||t.addEventListener("click",this.onMoveActiveSectionDown.bind(this)),null===(i=this.sectionOverlay.querySelector("#edit"))||void 0===i||i.addEventListener("click",this.onEditActiveSection.bind(this)),null===(n=this.sectionOverlay.querySelector("#disable"))||void 0===n||n.addEventListener("click",this.onDisableActiveSection.bind(this)),null===(o=this.sectionOverlay.querySelector("#remove"))||void 0===o||o.addEventListener("click",this.onRemoveActiveSection.bind(this))}},{key:"postMessage",value:function(e,t){window.parent.postMessage({type:e,data:t},window.origin)}},{key:"activateSection",value:function(e){this.activeSectionId=e.dataset.sectionId,this.sectionOverlay.style.width=e.offsetWidth+"px",this.sectionOverlay.style.height=e.offsetHeight+"px",this.sectionOverlay.style.left=e.offsetLeft+"px",this.sectionOverlay.style.top=e.offsetTop+"px",this.sectionOverlay.style.display="block"}},{key:"clearActiveSection",value:function(){this.activeSectionId=null,this.sectionOverlay.style.display="none"}},{key:"onSectionHover",value:function(e){this.activeSectionId!==e.dataset.sectionId&&(this.activateSection(e),this.postMessage("activateSection",e.dataset.sectionId))}},{key:"onSectionBlur",value:function(e){this.activeSectionId===e.dataset.sectionId&&this.clearActiveSection()}},{key:"onMoveActiveSectionUp",value:function(){this.postMessage("moveSectionUp",this.activeSectionId)}},{key:"onMoveActiveSectionDown",value:function(){this.postMessage("moveSectionDown",this.activeSectionId)}},{key:"onEditActiveSection",value:function(){this.postMessage("editSection",this.activeSectionId)}},{key:"onDisableActiveSection",value:function(){this.postMessage("disableSection",this.activeSectionId)}},{key:"onRemoveActiveSection",value:function(){this.postMessage("removeSection",this.activeSectionId)}},{key:"refreshPreviewer",value:function(e){var t=(new DOMParser).parseFromString(e,"text/html");u(document.querySelector("body"),t.querySelector("body")),window.Livewire&&window.Livewire.rescan(),window.Alpine&&window.Alpine.initTree(document.body)}}])&&v(t.prototype,i),n&&v(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()})();