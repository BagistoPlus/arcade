(()=>{"use strict";var e;var t="undefined"==typeof document?void 0:document,n=!!t&&"content"in t.createElement("template"),i=!!t&&t.createRange&&"createContextualFragment"in t.createRange();function o(o){return o=o.trim(),n?function(e){var n=t.createElement("template");return n.innerHTML=e,n.content.childNodes[0]}(o):i?function(n){return e||(e=t.createRange()).selectNode(t.body),e.createContextualFragment(n).childNodes[0]}(o):function(e){var n=t.createElement("body");return n.innerHTML=e,n.childNodes[0]}(o)}function a(e,t){var n,i,o=e.nodeName,a=t.nodeName;return o===a||(n=o.charCodeAt(0),i=a.charCodeAt(0),n<=90&&i>=97?o===a.toUpperCase():i<=90&&n>=97&&a===o.toUpperCase())}function r(e,t,n){e[n]!==t[n]&&(e[n]=t[n],e[n]?e.setAttribute(n,""):e.removeAttribute(n))}var c={OPTION:function(e,t){var n=e.parentNode;if(n){var i=n.nodeName.toUpperCase();"OPTGROUP"===i&&(i=(n=n.parentNode)&&n.nodeName.toUpperCase()),"SELECT"!==i||n.hasAttribute("multiple")||(e.hasAttribute("selected")&&!t.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),n.selectedIndex=-1)}r(e,t,"selected")},INPUT:function(e,t){r(e,t,"checked"),r(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),t.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n);var i=e.firstChild;if(i){var o=i.nodeValue;if(o==n||!n&&o==e.placeholder)return;i.nodeValue=n}},SELECT:function(e,t){if(!t.hasAttribute("multiple")){for(var n,i,o=-1,a=0,r=e.firstChild;r;)if("OPTGROUP"===(i=r.nodeName&&r.nodeName.toUpperCase()))r=(n=r).firstChild;else{if("OPTION"===i){if(r.hasAttribute("selected")){o=a;break}a++}!(r=r.nextSibling)&&n&&(r=n.nextSibling,n=null)}e.selectedIndex=o}}};function l(){}function s(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}var d=function(e){return function(n,i,r){if(r||(r={}),"string"==typeof i)if("#document"===n.nodeName||"HTML"===n.nodeName||"BODY"===n.nodeName){var d=i;(i=t.createElement("html")).innerHTML=d}else i=o(i);var u=r.getNodeKey||s,v=r.onBeforeNodeAdded||l,f=r.onNodeAdded||l,h=r.onBeforeElUpdated||l,p=r.onElUpdated||l,m=r.onBeforeNodeDiscarded||l,y=r.onNodeDiscarded||l,S=r.onBeforeElChildrenUpdated||l,b=!0===r.childrenOnly,w=Object.create(null),g=[];function A(e){g.push(e)}function N(e,t){if(1===e.nodeType)for(var n=e.firstChild;n;){var i=void 0;t&&(i=u(n))?A(i):(y(n),n.firstChild&&N(n,t)),n=n.nextSibling}}function E(e,t,n){!1!==m(e)&&(t&&t.removeChild(e),y(e),N(e,n))}function O(e){f(e);for(var t=e.firstChild;t;){var n=t.nextSibling,i=u(t);if(i){var o=w[i];o&&a(t,o)?(t.parentNode.replaceChild(o,t),T(o,t)):O(t)}else O(t);t=n}}function T(n,i,o){var r=u(i);if(r&&delete w[r],!o){if(!1===h(n,i))return;if(e(n,i),p(n),!1===S(n,i))return}"TEXTAREA"!==n.nodeName?function(e,n){var i,o,r,l,s,d=n.firstChild,f=e.firstChild;e:for(;d;){for(l=d.nextSibling,i=u(d);f;){if(r=f.nextSibling,d.isSameNode&&d.isSameNode(f)){d=l,f=r;continue e}o=u(f);var h=f.nodeType,p=void 0;if(h===d.nodeType&&(1===h?(i?i!==o&&((s=w[i])?r===s?p=!1:(e.insertBefore(s,f),o?A(o):E(f,e,!0),f=s):p=!1):o&&(p=!1),(p=!1!==p&&a(f,d))&&T(f,d)):3!==h&&8!=h||(p=!0,f.nodeValue!==d.nodeValue&&(f.nodeValue=d.nodeValue))),p){d=l,f=r;continue e}o?A(o):E(f,e,!0),f=r}if(i&&(s=w[i])&&a(s,d))e.appendChild(s),T(s,d);else{var m=v(d);!1!==m&&(m&&(d=m),d.actualize&&(d=d.actualize(e.ownerDocument||t)),e.appendChild(d),O(d))}d=l,f=r}!function(e,t,n){for(;t;){var i=t.nextSibling;(n=u(t))?A(n):E(t,e,!0),t=i}}(e,f,o);var y=c[e.nodeName];y&&y(e,n)}(n,i):c.TEXTAREA(n,i)}!function e(t){if(1===t.nodeType||11===t.nodeType)for(var n=t.firstChild;n;){var i=u(n);i&&(w[i]=n),e(n),n=n.nextSibling}}(n);var C,k,I=n,x=I.nodeType,L=i.nodeType;if(!b)if(1===x)1===L?a(n,i)||(y(n),I=function(e,t){for(var n=e.firstChild;n;){var i=n.nextSibling;t.appendChild(n),n=i}return t}(n,(C=i.nodeName,(k=i.namespaceURI)&&"http://www.w3.org/1999/xhtml"!==k?t.createElementNS(k,C):t.createElement(C)))):I=i;else if(3===x||8===x){if(L===x)return I.nodeValue!==i.nodeValue&&(I.nodeValue=i.nodeValue),I;I=i}if(I===i)y(n);else{if(i.isSameNode&&i.isSameNode(I))return;if(T(I,i,b),g)for(var M=0,U=g.length;M<U;M++){var D=w[g[M]];D&&E(D,D.parentNode,!1)}}return!b&&I!==n&&n.parentNode&&(I.actualize&&(I=I.actualize(n.ownerDocument||t)),n.parentNode.replaceChild(I,n)),I}}((function(e,t){var n,i,o,a,r=t.attributes;if(11!==t.nodeType&&11!==e.nodeType){for(var c=r.length-1;c>=0;c--)i=(n=r[c]).name,o=n.namespaceURI,a=n.value,o?(i=n.localName||i,e.getAttributeNS(o,i)!==a&&("xmlns"===n.prefix&&(i=n.name),e.setAttributeNS(o,i,a))):e.getAttribute(i)!==a&&e.setAttribute(i,a);for(var l=e.attributes,s=l.length-1;s>=0;s--)i=(n=l[s]).name,(o=n.namespaceURI)?(i=n.localName||i,t.hasAttributeNS(o,i)||e.removeAttributeNS(o,i)):t.hasAttribute(i)||e.removeAttribute(i)}}));const u=d;function v(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}window.addEventListener("DOMContentLoaded",(function(){var e=new h;e.init(),Object.keys(window.themeData.sections).forEach((function(e){var t=window.themeData.sections[e];Array.isArray(t.blocks)&&(t.blocks={},t.blocks_order=[])})),e.postMessage("init",{themeData:window.themeData,themeSettings:window.themeSettings,availableSections:window.availableSections,templates:window.templates,models:window.initialState}),window.addEventListener("message",(function(t){switch(t.data.type){case"activateSection":var n=document.querySelector('[data-section-id="'.concat(t.data.data,'"]'));e.activateSection(n),n.scrollIntoView({behavior:"smooth"});break;case"clearActiveSection":e.clearActiveSection();break;case"refresh":e.refreshPreviewer(t.data.data)}}))}));var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"sectionOverlay",void 0),f(this,"activeSectionId",null)}var t,n,i;return t=e,(n=[{key:"init",value:function(){var e,t,n,i,o,a=this;this.sectionOverlay=document.querySelector("#section-overlay"),document.querySelectorAll(".arcade-section").forEach((function(e){e.addEventListener("mouseover",a.onSectionHover.bind(a,e)),e.addEventListener("mouseleave",(function(t){var n;t.toElement&&"section-overlay"===(null===(n=t.toElement.parentElement)||void 0===n?void 0:n.id)||a.onSectionBlur.call(a,e)}))})),this.sectionOverlay.querySelectorAll(".btn").forEach((function(e){e.addEventListener("mouseenter",(function(){a.sectionOverlay.style.display="block"}))})),null===(e=this.sectionOverlay.querySelector("#move-up"))||void 0===e||e.addEventListener("click",this.onMoveActiveSectionUp.bind(this)),null===(t=this.sectionOverlay.querySelector("#move-down"))||void 0===t||t.addEventListener("click",this.onMoveActiveSectionDown.bind(this)),null===(n=this.sectionOverlay.querySelector("#edit"))||void 0===n||n.addEventListener("click",this.onEditActiveSection.bind(this)),null===(i=this.sectionOverlay.querySelector("#disable"))||void 0===i||i.addEventListener("click",this.onToggleSection.bind(this)),null===(o=this.sectionOverlay.querySelector("#remove"))||void 0===o||o.addEventListener("click",this.onRemoveActiveSection.bind(this))}},{key:"postMessage",value:function(e,t){window.parent.postMessage({type:e,data:t},window.origin)}},{key:"activateSection",value:function(e){this.activeSectionId=e.dataset.sectionId,this.sectionOverlay.style.width=e.offsetWidth+"px",this.sectionOverlay.style.height=e.offsetHeight+"px",this.sectionOverlay.style.left=e.offsetLeft+"px",this.sectionOverlay.style.top=e.offsetTop+"px",this.sectionOverlay.style.display="block"}},{key:"clearActiveSection",value:function(){this.activeSectionId=null,this.sectionOverlay.style.display="none"}},{key:"onSectionHover",value:function(e){this.activeSectionId!==e.dataset.sectionId&&(this.activateSection(e),this.postMessage("activateSection",e.dataset.sectionId))}},{key:"onSectionBlur",value:function(e){this.activeSectionId===e.dataset.sectionId&&this.clearActiveSection()}},{key:"onMoveActiveSectionUp",value:function(){this.postMessage("moveSectionUp",this.activeSectionId)}},{key:"onMoveActiveSectionDown",value:function(){this.postMessage("moveSectionDown",this.activeSectionId)}},{key:"onEditActiveSection",value:function(){this.postMessage("editSection",this.activeSectionId)}},{key:"onToggleSection",value:function(){console.log(this.activeSectionId),this.postMessage("toggleSection",this.activeSectionId)}},{key:"onRemoveActiveSection",value:function(){this.postMessage("removeSection",this.activeSectionId)}},{key:"refreshPreviewer",value:function(e){var t=(new DOMParser).parseFromString(e,"text/html");u(document.querySelector("body"),t.querySelector("body")),window.Livewire&&window.Livewire.rescan(),window.Alpine&&window.Alpine.initTree(document.body)}}])&&v(t.prototype,n),i&&v(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()})();